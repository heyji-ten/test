<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="./css/slider.css">

    <!-- XEIcon 폰트 불러오기 -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/xeicon@2.3.3/xeicon.min.css">
    
</head>
<body>
    <div class="wrap">
        <!-- 상단 배너 슬라이더 -->
        <div class="main-bn">
            <div class="slider">
                <div class="slides">
                    <div class="bn active" style="background-image:url('./image/main/main_02.png');">
                        <div class="inner-txt">
                            <div class="slider-txt">
                                <h1 class="slider-title">파트너와 메가존의 <br>
                                        “공동성장을 위한 클라우드 여정”</h1>
                                <p class="slider-cont">
                                    기업을 위한 최적의 클라우드솔루션을 제공하는 메가존소프트는 <span class="mbr"><br></span>
기업의 규모와 서비스의 목적에 최적화된 클라우드 인프라를 <span class="mbr"><br></span>
구축하고 운영하며,민첩한 기술지원을 통해서 안정적인 <span class="mbr"><br></span>
서비스를 제공합니다.
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="bn" style="background-image:url('./image/main/main_02.png');">
                        <div class="inner-txt">
                           <div class="slider-txt">
                                <h1 class="slider-title">파트너와 메가존의 <span class="mbr"><br></span>
                                        “공동성장을 위한 클라우드 여정”</h1>
                                <p class="slider-cont">
                                    기업을 위한 최적의 클라우드솔루션을 제공하는 메가존소프트는 <br>
기업의 규모와 서비스의 목적에 최적화된 클라우드 인프라를 <span class="mbr"><br></span>
구축하고 운영하며,민첩한 기술지원을 통해서 안정적인 <span class="mbr"><br></span>
서비스를 제공합니다.
                                </p>
                            </div>
                        </div>
                    </div>
                   
                </div>
                <div class="slider-btn">
                    <div class="page-btns">
                        <div class="page-no">
                            <span class="current-slide-no"></span>
                            <span class="slash">/</span>
                            <span class="total-slide-no"></span>
                        </div>
                    </div>
                </div>
                <div class="prevbtn">
                    <button class="page-btn prev-btn"><i class="xi-angle-left"></i></button>
                </div>
                <div class="nextbtn">
                        <button class="page-btn next-btn"><i class="xi-angle-right"></i></button>
                </div>
            </div>
        </div>    
    </div>

    <script>
        console.clear();

// 상단 메인 배너 슬라이더
$(document).on("click", ".page-btn", function () { 
    var $clicked = $(this);
    var $slider = $(this).closest('.slider');
    
    var index = $(this).index();
    var isLeft = index == 0;
    //console.log(index);
    
    var $current = $slider.find(' > .slides > .bn.active');
    var $post;
    
    if ( isLeft ){
        $post = $current.prev();
    }
    else {
        $post = $current.next();
    }
    //console.log($post.length);
    
    if ( $post.length == 0 ){
        if ( isLeft ){
            $post = $slider.find(' > .slides > .bn:last-child');
        }
        else {
            $post = $slider.find(' > .slides > .bn:first-child');
        }
    }
    
    $current.removeClass('active');
    $post.addClass('active');
    
    updateCurrentPageNumber();
});

setInterval(function(){
    $('.next-btn').click();
}, 8000);

// 슬라이더 페이지 번호 지정
function pageNumber__Init(){
    // 전채 배너 페이지 갯수 세팅해서 .slider 에 'data-slide-total' 넣기
    var totalSlideNo = $('.main-bn > .slider > .slides > .bn').length;
    //console.log(totalSlideNo);
    
    $('.main-bn > .slider').attr('data-slide-total', totalSlideNo);
    
    // 각 배너 페이지 번호 매기기
    $('.main-bn > .slider > .slides > .bn').each(function(index, node){
        $(node).attr('data-slide-no', index + 1);
    });
};

pageNumber__Init();

// 슬라이더 이동시 페이지 번호 변경
function updateCurrentPageNumber(){
    var totalSlideNo = $('.main-bn > .slider').attr('data-slide-total');
    var currentSlideNo = $('.main-bn > .slider > .slides > .bn.active').attr('data-slide-no');
    
    $('.total-slide-no').html(totalSlideNo);
    $('.current-slide-no').html(currentSlideNo);
};

updateCurrentPageNumber()
    </script>
</body>
</html>